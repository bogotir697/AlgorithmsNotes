#### [[Вопросы к Экзамену]]
---
### Сбалансированное дерево поиска
Сбалансированным деревом поиска называется двоичное дерево поиска, которое при помощи определённых алгоритмов поддерживает свою структуру близкой к идеально сбалансированной. Когда двоичные деревья поиска имеют сложность поиска, добавления и удаления элемента, в худшем случае достигающую $O(n)$, сбалансированные деревья поиска ограничивают высоту дерева, а, соответственно, и сложность этих алгоритмов, величиной $O(\log_2n)$ 
### Повороты узла
Повороты используются для балансировки дерева.
#### Малый (одинарный) поворот
Одинарный поворот применяется, когда нарушение баланса происходит в одном направлении (по прямой). То есть высота левого (правого) поддерева левого (правого) потомка стала больше высоты родственного поддерева.
##### Малый правый поворот
![[tree-rotate-RR.png]] 
```python
def rotateR(tree, a):
  b = a.left
  a.left = b.right
  if b.right is not None:
    b.right.parent = a
  b.parent = a.parent
  if a.parent is None:
    tree.root = b
  elif a == a.parent.left:
    a.parent.left = b:
  else:
    a.parent.right = b
  b.right = a
  a.parent = b
```
##### Малый левый поворот
![[tree-rotate-LL.png]]
```python
def rotateL(tree, a):
  b = a.right
  a.right = b.left
  if b.left is not None:
    b.left.parent = a
  b.parent = a.parent
  if a.parent is None:
    tree.root = b
  elif a == a.parent.left:
    a.parent.left = b:
  else:
    a.parent.right = b
  b.left = a
  a.parent = b
```
#### Большой (двойной) поворот
Двойной поворот необходим, когда нарушение баланса происходит в разных направлениях (образуется угол). То есть высота правого (левого) поддерева левого (правого) потомка стала больше высоты родственного поддерева.
##### Большой правый поворот
![[tree-rotate-LR.png]]
```python
def rotateLR(tree, a):
  b = a.left
  rotateL(tree, b)
  rotateR(tree, a)
```
##### Большой левый поворот
![[tree-rotate-RL.png]]
```python
def rotateRL(tree, a):
  b = a.right
  rotateR(tree, b)
  rotateL(tree, a)
```
